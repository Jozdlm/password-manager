---
import { actions } from "astro:actions";
---

<div class="relative z-20">
  <button
    class="w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center relative"
    id="userImg"
  >
    <span>JM</span>
  </button>
  <div
    id="userMenu"
    class="bg-zinc-900 py-3 px-4 absolute min-w-max w-[180px] right-0 mt-1 rounded-md border border-slate-700"
    hidden
  >
    <form method="post" action={actions.logout}>
      <button
        class="block w-full text-start py-2 px-3 hover:bg-zinc-800 hover:rounded-md"
        id="logOutBtn"
        type="submit"
      >
        Cerrar SesiÃ³n
      </button>
    </form>
  </div>
</div>

<script>
  const userImgButton: HTMLElement = document.getElementById("userImg")!;
  const userMenu: HTMLElement = document.getElementById("userMenu")!;

  userImgButton.addEventListener("click", () => {
    userMenu.hidden = !userMenu.hidden;
  });
</script>
